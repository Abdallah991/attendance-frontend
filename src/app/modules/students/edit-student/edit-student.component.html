<div class="header">
  <h1>{{ title }}</h1>
  <div class="action-buttons gap-2">
    <app-button
      [text]="buttonTitle"
      [small]="true"
      class="min-w-[100px]"
      (onClick)="mutateStudent()"
      [loader]="loader"
      [disabled]="!studentForm.valid"
    ></app-button>
    <app-button
      text="Cancel"
      [small]="true"
      class="min-w-[100px]"
      (onClick)="cancel()"
    ></app-button>
  </div>
</div>

<app-success-dialog
  dialogId="dialog"
  [title]="dialogTitle"
  [message]="message"
  [button]="button"
  (dismissed)="navigateBack()"
></app-success-dialog>

<div class="page">
  <div class="columns">
    <div class="input-feilds">
      <app-text-field
        prefix="First name"
        label="First name"
        [FGN]="studentForm"
        FCN="firstName"
        inputType="text"
      ></app-text-field>
      <div *ngIf="isValid('firstName')" class="errorMessage">
        Please fill the student's first name!
      </div>
    </div>
    <div class="input-feilds">
      <app-text-field
        prefix="Last name"
        label="Last name"
        [FGN]="studentForm"
        FCN="lastName"
        inputType="text"
      ></app-text-field>
      <div *ngIf="isValid('lastName')" class="errorMessage">
        Please fill the student's last name!
      </div>
    </div>
    <div class="input-feilds">
      <app-text-field
        prefix="Phone number"
        label="Phone number"
        [FGN]="studentForm"
        FCN="phone"
        inputType="phone"
      ></app-text-field>
      <div *ngIf="isValid('phone')" class="errorMessage">
        Please fill the student's phone number!
      </div>
    </div>
    <div class="input-feilds">
      <app-text-field
        prefix="Email"
        label="Email"
        [FGN]="studentForm"
        FCN="email"
        inputType="email"
      ></app-text-field>
      <div *ngIf="isValid('email')" class="errorMessage">
        Please fill the student's email!
      </div>
    </div>
    <div class="input-feilds">
      <app-single-select
        [FGN]="studentForm"
        FCN="gender"
        [data]="genders"
        placeholder="Gender"
        prefix="Gender"
        (changed)="genderSelected($event)"
        [preSetValue]="genderPresetValue"
      ></app-single-select>
      <div *ngIf="isValid('gender')" class="errorMessage">
        Please fill the student's gender!
      </div>
    </div>
  </div>
  <div class="columns">
    <div class="input-feilds">
      <app-single-select
        [FGN]="studentForm"
        FCN="cohortId"
        [data]="cohortsData"
        placeholder="Cohort"
        prefix="Cohort"
        (changed)="cohortSelected($event)"
        [preSetValue]="cohortPreSetValue"
      ></app-single-select>
      <div *ngIf="isValid('cohortId')" class="errorMessage">
        Please fill the student's cohort!
      </div>
    </div>
    <div class="input-feilds">
      <app-text-field
        prefix="Birth date"
        label="Birth date"
        [FGN]="studentForm"
        FCN="dob"
        inputType="date"
      ></app-text-field>
      <div *ngIf="isValid('dob')" class="errorMessage">
        Please fill the student's Birth date!
      </div>
    </div>
    <div class="input-feilds">
      <app-single-select
        [FGN]="studentForm"
        FCN="supportedByTamkeen"
        [data]="supportedByTamkeenData"
        prefix="Supported By Tamkeen"
        placeholder="Supported By Tamkeen"
        (changed)="supportedByTamkeen($event)"
        [preSetValue]="tamkeenPreSetValue"
        [disabled]="disabled"
      ></app-single-select>
      <div *ngIf="isValid('supportedByTamkeen')" class="errorMessage">
        Please fill the student's status!
      </div>
    </div>
    <div class="input-feilds">
      <app-text-field
        prefix="Nationality"
        label="Nationality"
        [FGN]="studentForm"
        FCN="nationality"
        inputType="text"
      ></app-text-field>
      <div *ngIf="isValid('nationality')" class="errorMessage">
        Please fill the student's Nationality!
      </div>
    </div>
  </div>
</div>
